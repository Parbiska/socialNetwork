"use strict";(self.webpackChunkfirst=self.webpackChunkfirst||[]).push([[301],{5301:function(e,s,n){n.r(s),n.d(s,{default:function(){return O}});var t=n(4165),r=n(5861),o=n(8687),i=n(6962),a=n(2791),u=n(8683),l=n(5987),c="User_user__An9EB",f="User_ava__wqdn4",d="User_img__stHzv",g="User_btn__C2pNJ",_="User_info__RmPHX",h="User_descr__opOql",P="User_name__O-IAj",p="User_location__kzBon",m=n(3504),j=n(8987),w=n(184),x=function(e){return(0,w.jsxs)("div",{className:c,children:[(0,w.jsxs)("div",{className:f,children:[(0,w.jsx)(m.OL,{to:"/profile/".concat(e.id),children:(0,w.jsx)("img",{className:d,src:e.photos.small||j,alt:"ava"})}),e.followed?(0,w.jsx)("button",{disabled:e.isButtonPress.some((function(s){return s===e.id})),onClick:function(){e.unfollow(e.id)},className:g,children:"Unfollow"}):(0,w.jsx)("button",{disabled:e.isButtonPress.some((function(s){return s===e.id})),onClick:function(){e.follow(e.id)},className:g,children:"Follow"})]}),(0,w.jsxs)("div",{className:_,children:[(0,w.jsxs)("div",{className:h,children:[(0,w.jsx)("div",{className:P,children:e.name}),e.status?e.status:"No status:("]}),(0,w.jsxs)("div",{className:p,children:["City,",(0,w.jsx)("br",{}),"Country"]})]})]})},v="Users_users__1khqy",U="Users_preloader__Rh0P5",C=n(8992),N=n(885),z="Paginator_paginator__ynUAz",k="Paginator_page__H85h0",b="Paginator_page_active__ii3Ri",S="Paginator_btn__CNMfK",B=function(e){for(var s=e.totalUsersCount,n=e.pageSize,t=e.currentPage,r=e.onPageChanged,o=e.portionSize,i=Math.ceil(s/n),u=[],l=1;l<=i;l++)u.push(l);var c=Math.ceil(i/o),f=(0,a.useState)(1),d=(0,N.Z)(f,2),g=d[0],_=d[1],h=(g-1)*o+1,P=g*o;return(0,w.jsxs)("div",{className:z,children:[g>1&&(0,w.jsx)("button",{onClick:function(){_(g-1),r((g-1)*o)},className:S,children:"Prev"}),u.filter((function(e){return e>=h&&e<=P})).map((function(e){return(0,w.jsx)("span",{onClick:function(){r(e)},className:"".concat(k," ").concat(t===e?b:""),children:e},e)})),c>g&&(0,w.jsx)("button",{onClick:function(){_(g+1),r(g*o+1)},className:S,children:"Next"})]})},Z=["users","isButtonPress","follow","unfollow","isFetching"],F=function(e){var s=e.users,n=e.isButtonPress,t=e.follow,r=e.unfollow,o=e.isFetching,i=(0,l.Z)(e,Z),a=s.map((function(e){return(0,w.jsx)(x,{isButtonPress:n,follow:t,unfollow:r,photos:e.photos,id:e.id,followed:e.followed,name:e.name,status:e.status,location:e.location},e.id)}));return(0,w.jsxs)("div",{className:v,children:[(0,w.jsx)("h1",{children:"Users"}),(0,w.jsx)(B,(0,u.Z)((0,u.Z)({},i),{},{portionSize:10})),o?(0,w.jsx)("div",{className:U,children:(0,w.jsx)(C.Z,{})}):a]})},q=function(e){return e.usersPage.pageSize},y=function(e){return e.usersPage.totalUsersCount},A=function(e){return e.usersPage.currentPage},H=function(e){return e.usersPage.isFetching},M=function(e){return e.usersPage.isFollowingInProgress},O=(0,o.$j)((function(e){return{users:(s=e,s.usersPage.users),pageSize:q(e),totalUsersCount:y(e),currentPage:A(e),isFetching:H(e),isButtonPress:M(e)};var s}),{follow:i.ZN,unfollow:i.fv,requestUsers:i.D7,setCurrentPage:i.D4})((function(e){var s=e.requestUsers;(0,a.useEffect)((function(){s(e.currentPage,e.pageSize)}),[e.currentPage,e.pageSize,s]);var n=function(){var s=(0,r.Z)((0,t.Z)().mark((function s(n){return(0,t.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:e.unfollow(n);case 1:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}();return(0,w.jsx)(w.Fragment,{children:(0,w.jsx)(F,{isButtonPress:e.isButtonPress,onPageChanged:function(s){e.setCurrentPage(s),e.requestUsers(s,e.pageSize)},users:e.users,follow:function(s){e.follow(s)},unfollow:n,totalUsersCount:e.totalUsersCount,pageSize:e.pageSize,currentPage:e.currentPage})})}))}}]);
//# sourceMappingURL=301.d10ac366.chunk.js.map