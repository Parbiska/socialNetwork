"use strict";(self.webpackChunkfirst=self.webpackChunkfirst||[]).push([[510],{9510:function(e,s,t){t.r(s),t.d(s,{default:function(){return V}});var a=t(8683),o=t(885),r=t(5987),i={},l="MyPosts_posts__qIUwz",n="MyPosts_posts__new__T4lXp",c="MyPosts_posts__area__5COOn",u="MyPosts_posts__button__IuRVy",d={post:"Post_post__C65zc",name:"Post_name__R4YdT",img:"Post_img__e+v2H"},_=t(8987),f=t(184),p=function(e){var s=e.photo,t=e.likesCount,a=e.message,o=e.name;return(0,f.jsxs)("div",{className:d.post,children:[(0,f.jsx)("img",{className:d.img,src:s||_,alt:"user"}),(0,f.jsxs)("div",{className:d.text,children:[(0,f.jsx)("div",{className:d.name,children:o}),a,(0,f.jsxs)("div",{children:["Likes: ",t]})]})]})},m=t(704),h=t(5304),x=t(1059),j=t(2791),v=t(8992),P=(0,h.DT)(50),b=(0,m.Z)({form:"newPost"})((function(e){return(0,f.jsxs)("form",{onSubmit:e.handleSubmit,className:n,children:[(0,x.Gr)("your news...","postText",[h.C1,P],x.gx,{className:c}),(0,f.jsx)("button",{className:u,children:"Publish"})]})})),g=j.memo((function(e){var s=e.state,t=e.addPost;if(!s.profile)return(0,f.jsx)(v.Z,{});var a=s.posts.map((function(e){return(0,f.jsx)(p,{name:s.profile.fullName,message:e.message,likesCount:e.likesCount,photo:s.profile?s.profile.photos.large:null},e.id)})).reverse();return(0,f.jsxs)("div",{className:l,children:[(0,f.jsx)("h2",{children:"My posts"}),(0,f.jsx)(b,{onSubmit:function(e){t(e.postText)}}),a]})})),N=t(6508),I=t(8687),S=(0,I.$j)((function(e){return{state:e.profilePage}}),{addPost:N.q2})(g),k={info__wallpaper:"ProfileInfo_info__wallpaper__ItSrr",info__wrapper:"ProfileInfo_info__wrapper__vwuUe",info__avatar:"ProfileInfo_info__avatar__xdlhd",info__descr:"ProfileInfo_info__descr__UZjio",info__name:"ProfileInfo_info__name__fioio",preloader:"ProfileInfo_preloader__yvG5q",img__wrapper:"ProfileInfo_img__wrapper__VzzKC",img__uploader:"ProfileInfo_img__uploader__8cxg1",text_bold:"ProfileInfo_text_bold__Np9CQ",contacts:"ProfileInfo_contacts__XMsqo",contacts__Item:"ProfileInfo_contacts__Item__uXhl6",btn:"ProfileInfo_btn__SPNtT",info__status:"ProfileInfo_info__status__3XN+m"},A="ProfileStatus_status__mbk14",M=function(e){var s=(0,j.useState)(!1),t=(0,o.Z)(s,2),a=t[0],r=t[1],i=(0,j.useState)(e.status),l=(0,o.Z)(i,2),n=l[0],c=l[1];(0,j.useEffect)((function(){c(e.status)}),[e.status]);return(0,f.jsx)("div",{className:A,children:a?(0,f.jsx)("input",{value:n,onChange:function(e){return c(e.currentTarget.value)},autoFocus:!0,onBlur:function(){r(!1),e.updateStatus(n)}}):(0,f.jsx)("span",{onDoubleClick:e.isAuthUserProfile?function(){return r(!0)}:null,children:e.status||"------"})})},U="Contact_link__DYw5W",C=function(e){var s=e.contactTitle,t=e.contactValue;return(0,f.jsx)("li",{children:(0,f.jsx)("a",{className:U,rel:"noreferrer",href:t,target:"_blank",children:s[0].toUpperCase()+s.slice(1)})})},w={text_bold:"ProfileDataForm_text_bold__xIxgF",textarea:"ProfileDataForm_textarea__b0Ytr",input:"ProfileDataForm_input__WINyU",contacts:"ProfileDataForm_contacts__E0HBF",contact:"ProfileDataForm_contact__BC8Pi",btn:"ProfileDataForm_btn__2vqVz",summaryError:"ProfileDataForm_summaryError__luddW"},y=(0,h.DT)(80),F=(0,m.Z)({form:"edit-profile"})((function(e){var s=e.handleSubmit,t=e.isAuthUserProfile,a=e.updateStatus,o=e.status,r=e.profile,i=e.error,l=[];for(var n in r.contacts)l.push((0,f.jsxs)("div",{className:w.contact,children:["".concat(n,": "),"  ",(0,x.Gr)(n,"contacts.".concat(n),[],x.II,{className:w.input})]},n));return(0,f.jsxs)("form",{onSubmit:s,className:w.wrapper,children:[(0,f.jsxs)("div",{className:w.info__name,children:[(0,f.jsx)("span",{className:w.text_bold,children:"Full Name: "}),(0,x.Gr)("Full name","fullName",[],x.II,{className:w.input})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("span",{className:w.text_bold,children:"Status: "}),(0,f.jsx)(M,{isAuthUserProfile:t,updateStatus:a,status:o})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("span",{className:w.text_bold,children:"About me:"}),(0,f.jsx)("div",{children:(0,x.Gr)("About Me","aboutMe",[y],x.gx,{className:w.textarea})})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("span",{className:w.text_bold,children:"Looking for a job:"}),(0,x.Gr)("","lookingForAJob",[],x.II,{className:w.input_checkbox,type:"checkbox"})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("span",{className:w.text_bold,children:"My professional skills: "}),(0,f.jsx)("div",{children:(0,x.Gr)("My professional skills","lookingForAJobDescription",[y],x.gx,{className:w.textarea})})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("span",{className:w.text_bold,children:"Contacts:"}),(0,f.jsx)("div",{className:w.contacts,children:l})]}),i&&(0,f.jsx)("div",{className:w.summaryError,children:i}),(0,f.jsx)("div",{children:(0,f.jsx)("button",{className:w.btn,children:"Save"})})]})})),D=function(e){var s=[];for(var t in e.profile.contacts){var a=e.profile.contacts[t];a&&s.push((0,f.jsx)(C,{contactTitle:t,contactValue:a},t))}return(0,f.jsxs)("div",{className:k.info__descr,children:[(0,f.jsx)("div",{className:k.info__name,children:e.profile.fullName}),(0,f.jsxs)("div",{className:k.info__status,children:[(0,f.jsx)("span",{className:k.text_bold,children:"Status:"})," ",(0,f.jsx)(M,{isAuthUserProfile:e.isAuthUserProfile,updateStatus:e.updateStatus,status:e.status})]}),e.profile.aboutMe?(0,f.jsxs)("div",{children:[(0,f.jsx)("span",{className:k.text_bold,children:"About me:"})," ",e.profile.aboutMe]}):null,(0,f.jsxs)("div",{children:[(0,f.jsx)("span",{className:k.text_bold,children:"Looking for a job:"})," ",e.profile.lookingForAJob?"yes":"no"]}),!!e.profile.lookingForAJobDescription&&(0,f.jsxs)("div",{children:[(0,f.jsx)("span",{className:k.text_bold,children:"My professional skills: "}),e.profile.lookingForAJobDescription]}),!!s.length&&(0,f.jsxs)("div",{children:[(0,f.jsx)("span",{className:k.text_bold,children:"Contacts:"}),(0,f.jsx)("ul",{className:k.contacts,children:s})]}),e.isAuthUserProfile&&(0,f.jsx)("div",{children:(0,f.jsx)("button",{onClick:function(){return e.setEditMode(!0)},className:k.btn,children:"Edit"})})]})},E=function(e){var s=e.profile,t=e.isAuthUserProfile,a=e.updateStatus,o=e.status,r=e.savePhoto,i=e.saveProfile,l=e.editMode,n=e.setEditMode;if(!s)return(0,f.jsx)("div",{className:k.preloader,children:(0,f.jsx)(v.Z,{})});return(0,f.jsxs)("div",{className:k.info,children:[(0,f.jsx)("img",{className:k.info__wallpaper,src:"https://helpx.adobe.com/content/dam/help/en/photoshop/using/convert-color-image-black-white/jcr_content/main-pars/before_and_after/image-before/Landscape-Color.jpg",alt:"user"}),(0,f.jsxs)("div",{className:k.info__wrapper,children:[(0,f.jsxs)("div",{className:k.img__wrapper,children:[(0,f.jsx)("img",{id:"file-upload",src:s.photos.large||_,alt:"avatar",className:k.info__avatar}),t&&(0,f.jsxs)("label",{className:k.img__uploader,children:["Upload img",(0,f.jsx)("input",{onChange:function(e){e.target.files.length&&r(e.target.files[0])},type:"file"})]})]}),l?(0,f.jsx)(F,{initialValues:s,profile:s,onSubmit:function(e){i(e)},isAuthUserProfile:t,updateStatus:a,status:o}):(0,f.jsx)(D,{setEditMode:n,profile:s,isAuthUserProfile:t,updateStatus:a,status:o})]})]})},T=function(e){return(0,f.jsxs)("div",{className:i.profile,children:[(0,f.jsx)(E,{editMode:e.editMode,setEditMode:e.setEditMode,saveProfile:e.saveProfile,isAuthUserProfile:e.isAuthUserProfile,status:e.status,updateStatus:e.updateStatus,profile:e.profile,savePhoto:e.savePhoto}),e.isAuthUserProfile?(0,f.jsx)(S,{}):null]})},Z=t(7781),G=t(9706),q=t(6871),J=["getStatus","getProfile","match","authUserId","isAuth","saveProfile","savePhoto","status","updateStatus"],V=(0,Z.qC)(G.E,(0,I.$j)((function(e){return{profile:e.profilePage.profile,editMode:e.profilePage.editMode,status:e.profilePage.status,authUserId:e.auth.id,isAuth:e.auth.isAuth}}),{getProfile:N.Ai,getStatus:N.lR,updateStatus:N.Nf,savePhoto:N.Ju,saveProfile:N.Ii,setEditMode:N.Mb}))((function(e){var s=e.getStatus,t=e.getProfile,i=e.match,l=e.authUserId,n=e.isAuth,c=e.saveProfile,u=e.savePhoto,d=e.status,_=e.updateStatus,p=(0,r.Z)(e,J),m=(0,j.useState)(void 0),h=(0,o.Z)(m,2),x=h[0],v=h[1];return(0,j.useEffect)((function(){v(i.params.userId||l),x&&(t(x),s(x))}),[x,i.params.userId,l,s,t]),n||i.params.userId?(0,f.jsx)(T,(0,a.Z)({saveProfile:c,savePhoto:u,status:d,updateStatus:_,isAuthUserProfile:x===l},p)):(0,f.jsx)(q.Fg,{to:"/login"})}))}}]);
//# sourceMappingURL=510.4b9fcfc1.chunk.js.map